<div class="highlight"><pre>    <span class="bp">UIView</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="n">v1</span> <span class="o">=</span> <span class="n">vc</span><span class="p">.</span><span class="n">view</span><span class="p">;</span>
    <span class="bp">UIView</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">v2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIView</span> <span class="n">new</span><span class="p">];</span>
    <span class="n">v2</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIColor</span> <span class="n">redColor</span><span class="p">];</span>
    <span class="p">[</span><span class="n">v1</span> <span class="nl">addSubview</span><span class="p">:</span><span class="n">v2</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1">// 关闭Autoresizing, 开启Auto layout</span>
<span class="n">v2</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>

<span class="c1">// 获取vc的topLayoutGuide视图</span>
<span class="bp">UIView</span> <span class="o">*</span><span class="n">tlg</span> <span class="o">=</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">vc</span><span class="p">.</span><span class="n">topLayoutGuide</span><span class="p">;</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">vs</span> <span class="o">=</span> <span class="n">NSDictionaryOfVariableBindings</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">tlg</span><span class="p">);</span>

<span class="c1">// 使子视图v2的宽度与v1相同</span>
<span class="p">[</span><span class="n">v1</span> <span class="nl">addConstraints</span><span class="p">:</span>
<span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;H:|[v2]|&quot;</span>
    <span class="nl">options</span><span class="p">:</span><span class="mi">0</span> <span class="nl">metrics</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">views</span><span class="p">:</span><span class="n">vs</span><span class="p">]];</span>

<span class="c1">// 把v2放置在topLayoutGuide的下方，并设置v2高度为20</span>
<span class="p">[</span><span class="n">v1</span> <span class="nl">addConstraints</span><span class="p">:</span>
<span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;V:[tlg][v2(20)]&quot;</span> 
<span class="nl">options</span><span class="p">:</span><span class="mi">0</span> <span class="nl">metrics</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">views</span><span class="p">:</span><span class="n">vs</span><span class="p">]];</span>
<span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>